\begin{figure}[!htb]
 \begin{minipage}{0.5\textwidth}
\scriptsize 
\begin{tabular}{@{}p{1\textwidth}} 
 \hline 
  \multicolumn{1}{c}{(A) Common facts} \\ \hline
  \vspace{-4mm}
\begin{Verbatim}[commandchars=\\\{\}, tabsize=2]
import javax.swing.undo.UndoManager;
import javax.swing.event.UndoableEditListener;
import javax.swing.AbstractAction;

public class Foo \{
  public void run() \{
   UndoManager undoManager = new UndoManager();
  \}\}
  class UndoListener implements UndoableEditListener \{
  public void undoableEditHappened(UndoableEditEvent e) \{
    undoManager.addEdit(e.getEdit());
  \}\}
class UndoAction extends AbstractAction \{
   public void actionPerformed(ActionEvent e) \{   
     undoManager.undo();  
  \}\}
class RedoAction extends AbstractAction \{
  public void actionPerformed(ActionEvent e) \{
     undoManager.redo();
  \}\}
\end{Verbatim}
\vspace{-4mm}
 \\ \hline
  \multicolumn{1}{c}{(B) Auxiliary facts: Menu} \\ \hline
    \vspace{-4mm}
\begin{Verbatim}[commandchars=\\\{\}, tabsize=2]
import com.sun.java.swing.*;

public class Foo \{
  public void run() \{
   UndoManager undoManager = new UndoManager();
   new TextComposite().getDocument().addUndoableEditListener(new UndoListener());
   new JMenuItem(new UndoAction());
   new JMenuItem(new RedoAction());
  \}\}
 \end{Verbatim}
   \vspace{-4mm}
  \\ \hline
   \multicolumn{1}{c}{(C) Auxiliary facts: Button} \\ \hline
  \vspace{-4mm}
\begin{Verbatim}[commandchars=\\\{\}, tabsize=2]
import javax.swing.undo.UndoableEditSupport;
import com.sun.java.swing.Button;

public class Foo \{
  public void run() \{
   UndoManager undoManager = new UndoManager();
   new Button.addActionListener(new UndoAction());
   new Button.addActionListener(new RedoAction());
   new UndoableEditSupport().addUndoableEditListener(new UndoListener());
  \}\}
  \end{Verbatim}
        \vspace{-4mm}
     \\ \hline
\end{tabular} 
\caption{Common features and auxiliary features extracted from informal resources}
\label{fig:fact}
\end{minipage}
\end{figure}



\begin{figure}[!htb]
 \begin{minipage}{0.5\textwidth}
\scriptsize 
\begin{tabular}{@{}p{1\textwidth}} 
 \hline 
  \multicolumn{1}{c}{(D) User's context} \\ \hline
  \vspace{-4mm}
\begin{Verbatim}[commandchars=\\\{\}, tabsize=2]
import com.sun.java.swing.*;

public class MyTextEditor \{
  public void init() \{
    JFrame frame = new JFrame("Undo Sample");
    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    JTextArea textArea = new JTextArea();
   JButton undoBtn_;
   //add undo and redo action to text editor
  \}\} 
\end{Verbatim}
    \vspace{-4mm}
     \\ \hline
  \multicolumn{1}{c}{(E) Suggested reuse plan based on user's context} \\ \hline
\begin{Verbatim}[commandchars=\\\{\}, tabsize=2]
import com.sun.java.swing.*;
import javax.swing.undo.UndoManager;
import javax.swing.event.UndoableEditListener;
import javax.swing.AbstractAction;

public class MyTextEditor \{
    JFrame frame = new JFrame("Undo Sample");
    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    JTextArea textArea = new JTextArea();
   JButton undoBtn_;
   JButton redoButton; //added
  public void init() \{
   //add undo and redo action to text editor
   textArea.getDocument().addUndoableEditListener(new UndoListener());
   undoBtn_ = new Button.addActionListener(new UndoAction());
   redoButton  = new Button.addActionListener(new RedoAction());
  \}\}
  \end{Verbatim}
      \vspace{-4mm}
     \\ \hline
\end{tabular} 
\caption{User's context and best-fit reuse plan based on the context}
\label{fig:context}
\end{minipage}
\end{figure}

